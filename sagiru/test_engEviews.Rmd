---
title: "Untitled"
output: 
  bookdown::pdf_document2:
   keep_tex: true
header-includes:
  - \usepackage{subfig}
date: '2022-06-11'
---

```{r setup, include=FALSE}
options(prompt = "EViews> ")
library(EviewsR)
knitr::opts_chunk$set(echo = F,prompt = T,fig.align = "center",fig.pos="h",out.width = "0.45\\textwidth")

# set_eviews_path("eviews10")
```

## R Markdown

```{eviews mychunk,page=F,prompt=T,eval=TRUE,fig.cap="somefigure",fig.subcap=paste("Page",rep(1:4,each=4),"Figure",1:4)}
#| fig.show: hold
#| echo: TRUE
#| fig.keep: new
#| graph_procs: 
#| - template eviews5
#| - datelabeL  format("Month YYYY")
#| - axis(b) angle(45)
#| - legend columns(auto) position(right)
#| page: FALSE
#| out.width: 0.25\textwidth
#| fig.align: center
#| fig.ncol : 4

wfcreate(wf=sagiru,page=mati) q 2000 2025
for %y page1 page2 page3  
pagecreate(page={%y}) q 2000 2025
next
%pagelist=@pagelist
'open mychunk
for %y {%pagelist}
pageselect {%y}
'delete gra*
genr y=@cumsum(nrnd)
genr x=@cumsum(nrnd)
genr z=@cumsum(nrnd)
genr date=@date
                     graph grap3.dot z  
                           graph grap2.bar y 
                           graph grap1.area x  
   freeze(grap,mode=overwrite) x.line
equation ols.ls y c x
freeze(tab) ols
next
wfsave mychunk

```

```{r}
library(magrittr)

mychunk$ols

mychunk$ols 

mychunk$tab

mychunk$series %>% head 
```

# R plots



```{r labe,fig.cap="another fig"}
print(knitr::opts_current$get("sagir"))
print(knitr::opts_current$get("fig.show"))
y=cumsum(rnorm(100))
x=cumsum(rnorm(100))

plot(x,y)
```

```{r eview-graph}
data=data.frame(y=runif(100),x=runif(100))
eviews_graph(data,save_path = "",frequency = "m",start_date = 1990,group = F,options = "m",graph_procs = "template eviews5")

```


```{r rwalk}
rwalk("x y z",num_observations = 100,frequency = "7",start_date = "1")

eviews$xyz %>% head

eviews_graph(eviews$xyz,group = T,graph_procs = "template midnight",graph_command = "line")
```
