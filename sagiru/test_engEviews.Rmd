---
title: "Untitled"
output: 
  bookdown::pdf_document2:
   keep_tex: true
header-includes:
  - \usepackage{subfig}
date: '2022-06-11'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F,prompt = T,fig.align = "center",fig.pos="h")
options(prompt = "EViews> ")
library(EviewsR)
# set_eviews_path("eviews10")
```

## R Markdown

```{eviews mychunk,prompt=T,eval=TRUE,fig.cap="somefigure",fig.subcap=c("A figure","Another figure")}
#| fig.show: hold
#| echo: TRUE
#| fig.keep: new
#| graph_procs: 
#| - template modern
#| - options fillcolor(@hex(d9d9d9))
#| - legend columns(5)

wfcreate(wf=sagiru,page=mati) q 2000 2025
for %y page1 page2 page3 page4
pagecreate(page={%y}) q 2000 2025
next
%pagelist=@pagelist
'open mychunk
for %y {%pagelist}
pageselect {%y}
delete gra*
genr y=@cumsum(nrnd)
genr x=@cumsum(nrnd)
genr z=@cumsum(nrnd)
genr date=@date
                     graph grap1.line z  
                           graph grap2.line z y x
   freeze(grap,mode=overwrite) x.line
equation ols.ls y c x
next
wfsave mychunk

```

```{r}
library(magrittr)

mychunk$mati_ols

mychunk$page1_ols 

mychunk$series %>% head 
```

# R plots



```{r labe,fig.cap="another fig"}
print(knitr::opts_current$get("sagir"))
print(knitr::opts_current$get("fig.show"))
y=cumsum(rnorm(100))
x=cumsum(rnorm(100))

plot(x,y)
```

```{r eview-graph}
data=data.frame(y=runif(100),x=runif(100))
eviews_graph(data,save_path = "",frequency = "m",start_date = 1990,group = F,options = "m",graph_procs = "template eviews5")

```


```{r rwalk}
rwalk("x y z",num_observations = 100,frequency = "7",start_date = "1")

eviews$xyz %>% head

eviews_graph(eviews$xyz,group = T,graph_procs = "template(b) midnight")
```
